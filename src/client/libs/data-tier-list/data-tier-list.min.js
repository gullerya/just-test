const ITEMS_KEY=Symbol("data.tier.items.key");class DataTierItemTemplate extends HTMLTemplateElement{constructor(){super(),this[ITEMS_KEY]=[]}get defaultTieTarget(){return"items"}get items(){return this[ITEMS_KEY]}set items(t){if(!Array.isArray(t))return;this[ITEMS_KEY]=t;const e=this.parentNode,a=this.content.firstElementChild.dataset,i=t.length;let r,n;(n=a.dtListItemAid)||(n=(new Date).getTime(),a.dtListItemAid=n);const l=e.querySelectorAll('[data-dt-list-item-aid="'+n+'"]');let s=l.length;if(s>i)for(;s>i;)e.removeChild(l[--s]);s<i&&(r=DataTierItemTemplate.extractControllerParameters(this.dataset.tie),DataTierItemTemplate.insertNewContent(e,this,r,s,i))}static extractControllerParameters(t){let e;if(t&&(!(e=t.trim().split(/\s+=>\s+/))||!e.length))throw new Error("invalid DataTier configuration");return e}static insertNewContent(t,e,a,i,r){const n=a[0]+(a[0].indexOf(":")<0?":":"."),l=DataTierItemTemplate.prepareOptimizationMap(e).index,s=e.content;let m,o,d,p,c,T,h=null,u=i;for(;u<r;u++){for(p=(m=s.cloneNode(!0)).querySelectorAll("*"),o=l.length;o--;)T=(T=(T=(T=(c=p[d=l[o]]).dataset.tie).replace(/item:/g,n+u+".")).replace(/item\s*=/g,n+u+"=")).replace(/item(?![.a-zA-Z0-9])/g,n+u),c.dataset.tie=T;u===i?h=m:h.appendChild(m)}t.appendChild(h)}static prepareOptimizationMap(t){const e={index:[]},a=t.content.querySelectorAll("*");let i,r=a.length;for(;r--;)(i=a[r]).dataset&&"string"==typeof i.dataset.tie&&e.index.push(r);return e}}customElements.get("data-tier-item-template")||customElements.define("data-tier-item-template",DataTierItemTemplate,{extends:"template"});